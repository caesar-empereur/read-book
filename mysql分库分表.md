* 分库分表按照业务方式有2种
   * 水平切分 : 将一个表的数据分成多个表存储，多个表的结构相同，例如订单表按照月份或者id切分为多个表
   * 垂直切分 : 将一个表的字段分成多个表来存储，每个表的数据都是对应字段的全部数据
* 按照物理存储的方式切分
   * 单库多表，虽然分成了多个表，单表查询压力降低，但是多表用的还是同一个数据库实例，负载能力提高不大
   * 多库多表，将多个切分的表分散到多个数据库实例中，降低单个数据库实例的处理压力，提高整个数据库系统的处理能力

* 分库分表需要面对的问题与解决方案

|问题|解决方案|
|----|--------|
|原先的事务会变成分布式事务，需要有分布式事务的方案|XA协议或者2阶段提交，成熟产品有seata|
|'|关联字段冗余|
|跨节点关联JOIN查询问题|分次查询(第一次查出对应数据，拿出关联字段再查一次)|
|'|全局表，将所有需要关联查询的表每个节点都存放一份|
|'|排序字段为分片字段时，通过分片规则就比较容易定位到指定的分片|
|跨节点排序，分页问题|排序字段为非分片字段时，需要先在分片节点将数据进行排序，然后将分片返回的结果集进行汇总和再次排序|
|表的主键的全局唯一性问题|表原先的主键为自增的话就要重新设计，需要使用分布式的全局唯一UUID|
|非分片字段的查询问题|需要在所有的库中执行对应的order by limit操作后返回，然后再同一计算合并结果返回客户端|
